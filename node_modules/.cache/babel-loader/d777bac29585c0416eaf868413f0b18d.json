{"ast":null,"code":"import React from 'react';\nimport { addDays, addMonths, addWeeks, addYears, endOfWeek, isSameMonth, startOfWeek } from 'date-fns';\nimport { useDayPicker } from '../DayPicker';\nimport { useModifiers } from '../Modifiers';\nimport { useNavigation } from '../Navigation/useNavigation';\nimport { getInitialFocusTarget } from './getInitialFocusTarget';\n/**\n * The Focus context shares details about the focused day for the keyboard navigation.\n *\n * Access this context from the [[useFocus]] hook.\n */\n\nexport var FocusContext = React.createContext(undefined);\n/** The provider for the [[FocusContext]]. */\n\nexport function FocusProvider(_a) {\n  var children = _a.children;\n\n  var _b = React.useState(),\n      focusedDay = _b[0],\n      setDay = _b[1];\n\n  var _c = useNavigation(),\n      goToMonth = _c.goToMonth,\n      displayMonths = _c.displayMonths;\n\n  var numberOfMonths = useDayPicker().numberOfMonths;\n  var modifiersContext = useModifiers();\n  var initialFocusTarget = getInitialFocusTarget(displayMonths, modifiersContext);\n\n  var _d = React.useState(),\n      lastFocusedDay = _d[0],\n      setLastFocusedDay = _d[1];\n\n  var isWithinDisplayMonths = function (date) {\n    return displayMonths.some(function (displayMonth) {\n      return isSameMonth(date, displayMonth);\n    });\n  };\n\n  var focusTarget = (focusedDay !== null && focusedDay !== void 0 ? focusedDay : lastFocusedDay && isWithinDisplayMonths(lastFocusedDay)) ? lastFocusedDay : initialFocusTarget;\n\n  var blur = function () {\n    setLastFocusedDay(focusedDay);\n    setDay(undefined);\n  };\n\n  var focus = function (date) {\n    return setDay(date);\n  };\n\n  var switchMonth = function (date, offset) {\n    if (displayMonths.some(function (m) {\n      return isSameMonth(date, m);\n    })) return;\n\n    if (offset < 0) {\n      goToMonth(addMonths(date, 1 + offset));\n    } else {\n      goToMonth(date);\n    }\n  };\n\n  var focusDayBefore = function () {\n    if (!focusedDay) return;\n    var before = addDays(focusedDay, -1);\n    focus(before);\n    switchMonth(before, numberOfMonths * -1);\n  };\n\n  var focusDayAfter = function () {\n    if (!focusedDay) return;\n    var after = addDays(focusedDay, 1);\n    focus(after);\n    switchMonth(after, numberOfMonths);\n  };\n\n  var focusWeekBeforeDay = function () {\n    if (!focusedDay) return;\n    var up = addWeeks(focusedDay, -1);\n    focus(up);\n    switchMonth(up, numberOfMonths * -1);\n  };\n\n  var focusWeekAfterDay = function () {\n    if (!focusedDay) return;\n    var down = addWeeks(focusedDay, 1);\n    focus(down);\n    switchMonth(down, numberOfMonths);\n  };\n\n  var focusStartOfWeek = function () {\n    if (!focusedDay) return;\n    var dayToFocus = startOfWeek(focusedDay);\n    switchMonth(dayToFocus, numberOfMonths);\n    focus(dayToFocus);\n  };\n\n  var focusEndOfWeek = function () {\n    if (!focusedDay) return;\n    var dayToFocus = endOfWeek(focusedDay);\n    switchMonth(dayToFocus, numberOfMonths);\n    focus(dayToFocus);\n  };\n\n  var focusMonthBefore = function () {\n    if (!focusedDay) return;\n    var monthBefore = addMonths(focusedDay, -1);\n    switchMonth(monthBefore, numberOfMonths);\n    focus(monthBefore);\n  };\n\n  var focusMonthAfter = function () {\n    if (!focusedDay) return;\n    var monthAfter = addMonths(focusedDay, 1);\n    switchMonth(monthAfter, numberOfMonths);\n    focus(monthAfter);\n  };\n\n  var focusYearBefore = function () {\n    if (!focusedDay) return;\n    var yearBefore = addYears(focusedDay, -1);\n    switchMonth(yearBefore, numberOfMonths);\n    focus(yearBefore);\n  };\n\n  var focusYearAfter = function () {\n    if (!focusedDay) return;\n    var yearAfter = addYears(focusedDay, 1);\n    switchMonth(yearAfter, numberOfMonths);\n    focus(yearAfter);\n  };\n\n  var value = {\n    focusedDay: focusedDay,\n    focusTarget: focusTarget,\n    blur: blur,\n    focus: focus,\n    focusDayAfter: focusDayAfter,\n    focusDayBefore: focusDayBefore,\n    focusWeekAfterDay: focusWeekAfterDay,\n    focusWeekBeforeDay: focusWeekBeforeDay,\n    focusMonthBefore: focusMonthBefore,\n    focusMonthAfter: focusMonthAfter,\n    focusYearBefore: focusYearBefore,\n    focusYearAfter: focusYearAfter,\n    focusStartOfWeek: focusStartOfWeek,\n    focusEndOfWeek: focusEndOfWeek\n  };\n  return React.createElement(FocusContext.Provider, {\n    value: value\n  }, children);\n}","map":{"version":3,"sources":["../../../src/contexts/Focus/FocusContext.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { addDays, addMonths, addWeeks, addYears, endOfWeek, isSameMonth, startOfWeek } from 'date-fns';\nimport { useDayPicker } from '../DayPicker';\nimport { useModifiers } from '../Modifiers';\nimport { useNavigation } from '../Navigation/useNavigation';\nimport { getInitialFocusTarget } from './getInitialFocusTarget';\n/**\n * The Focus context shares details about the focused day for the keyboard navigation.\n *\n * Access this context from the [[useFocus]] hook.\n */\nexport var FocusContext = React.createContext(undefined);\n/** The provider for the [[FocusContext]]. */\nexport function FocusProvider(_a) {\n    var children = _a.children;\n    var _b = React.useState(), focusedDay = _b[0], setDay = _b[1];\n    var _c = useNavigation(), goToMonth = _c.goToMonth, displayMonths = _c.displayMonths;\n    var numberOfMonths = useDayPicker().numberOfMonths;\n    var modifiersContext = useModifiers();\n    var initialFocusTarget = getInitialFocusTarget(displayMonths, modifiersContext);\n    var _d = React.useState(), lastFocusedDay = _d[0], setLastFocusedDay = _d[1];\n    var isWithinDisplayMonths = function (date) {\n        return displayMonths.some(function (displayMonth) { return isSameMonth(date, displayMonth); });\n    };\n    var focusTarget = (focusedDay !== null && focusedDay !== void 0 ? focusedDay : (lastFocusedDay && isWithinDisplayMonths(lastFocusedDay)))\n        ? lastFocusedDay\n        : initialFocusTarget;\n    var blur = function () {\n        setLastFocusedDay(focusedDay);\n        setDay(undefined);\n    };\n    var focus = function (date) { return setDay(date); };\n    var switchMonth = function (date, offset) {\n        if (displayMonths.some(function (m) { return isSameMonth(date, m); }))\n            return;\n        if (offset < 0) {\n            goToMonth(addMonths(date, 1 + offset));\n        }\n        else {\n            goToMonth(date);\n        }\n    };\n    var focusDayBefore = function () {\n        if (!focusedDay)\n            return;\n        var before = addDays(focusedDay, -1);\n        focus(before);\n        switchMonth(before, numberOfMonths * -1);\n    };\n    var focusDayAfter = function () {\n        if (!focusedDay)\n            return;\n        var after = addDays(focusedDay, 1);\n        focus(after);\n        switchMonth(after, numberOfMonths);\n    };\n    var focusWeekBeforeDay = function () {\n        if (!focusedDay)\n            return;\n        var up = addWeeks(focusedDay, -1);\n        focus(up);\n        switchMonth(up, numberOfMonths * -1);\n    };\n    var focusWeekAfterDay = function () {\n        if (!focusedDay)\n            return;\n        var down = addWeeks(focusedDay, 1);\n        focus(down);\n        switchMonth(down, numberOfMonths);\n    };\n    var focusStartOfWeek = function () {\n        if (!focusedDay)\n            return;\n        var dayToFocus = startOfWeek(focusedDay);\n        switchMonth(dayToFocus, numberOfMonths);\n        focus(dayToFocus);\n    };\n    var focusEndOfWeek = function () {\n        if (!focusedDay)\n            return;\n        var dayToFocus = endOfWeek(focusedDay);\n        switchMonth(dayToFocus, numberOfMonths);\n        focus(dayToFocus);\n    };\n    var focusMonthBefore = function () {\n        if (!focusedDay)\n            return;\n        var monthBefore = addMonths(focusedDay, -1);\n        switchMonth(monthBefore, numberOfMonths);\n        focus(monthBefore);\n    };\n    var focusMonthAfter = function () {\n        if (!focusedDay)\n            return;\n        var monthAfter = addMonths(focusedDay, 1);\n        switchMonth(monthAfter, numberOfMonths);\n        focus(monthAfter);\n    };\n    var focusYearBefore = function () {\n        if (!focusedDay)\n            return;\n        var yearBefore = addYears(focusedDay, -1);\n        switchMonth(yearBefore, numberOfMonths);\n        focus(yearBefore);\n    };\n    var focusYearAfter = function () {\n        if (!focusedDay)\n            return;\n        var yearAfter = addYears(focusedDay, 1);\n        switchMonth(yearAfter, numberOfMonths);\n        focus(yearAfter);\n    };\n    var value = {\n        focusedDay: focusedDay,\n        focusTarget: focusTarget,\n        blur: blur,\n        focus: focus,\n        focusDayAfter: focusDayAfter,\n        focusDayBefore: focusDayBefore,\n        focusWeekAfterDay: focusWeekAfterDay,\n        focusWeekBeforeDay: focusWeekBeforeDay,\n        focusMonthBefore: focusMonthBefore,\n        focusMonthAfter: focusMonthAfter,\n        focusYearBefore: focusYearBefore,\n        focusYearAfter: focusYearAfter,\n        focusStartOfWeek: focusStartOfWeek,\n        focusEndOfWeek: focusEndOfWeek\n    };\n    return (React.createElement(FocusContext.Provider, { value: value }, children));\n}\n"]},"metadata":{},"sourceType":"module"}