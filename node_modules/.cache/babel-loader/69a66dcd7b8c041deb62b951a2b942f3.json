{"ast":null,"code":"import React from 'react';\nimport { isSameDay } from 'date-fns';\nimport { useDayPicker } from '../../../contexts/DayPicker';\nimport { useFocus } from '../../../contexts/Focus';\n/** Handle the focus for the day element. */\n\nexport function useDayFocus(date, buttonRef) {\n  var _a = useFocus(),\n      focusedDay = _a.focusedDay,\n      focusTarget = _a.focusTarget,\n      focusDayAfter = _a.focusDayAfter,\n      focusDayBefore = _a.focusDayBefore,\n      focusWeekAfterDay = _a.focusWeekAfterDay,\n      focusWeekBeforeDay = _a.focusWeekBeforeDay,\n      blur = _a.blur,\n      focus = _a.focus,\n      focusMonthBefore = _a.focusMonthBefore,\n      focusMonthAfter = _a.focusMonthAfter,\n      focusYearBefore = _a.focusYearBefore,\n      focusYearAfter = _a.focusYearAfter,\n      focusStartOfWeek = _a.focusStartOfWeek,\n      focusEndOfWeek = _a.focusEndOfWeek;\n\n  var dir = useDayPicker().dir; // Focus the HTML element if this is the focused day.\n\n  React.useEffect(function () {\n    var _a;\n\n    if (!focusedDay) return;\n\n    if (isSameDay(focusedDay, date)) {\n      (_a = buttonRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  }, [focusedDay, date, buttonRef]);\n\n  var focusOnKeyDown = function (e) {\n    switch (e.key) {\n      case 'ArrowLeft':\n        e.preventDefault();\n        e.stopPropagation();\n        dir === 'rtl' ? focusDayAfter() : focusDayBefore();\n        break;\n\n      case 'ArrowRight':\n        e.preventDefault();\n        e.stopPropagation();\n        dir === 'rtl' ? focusDayBefore() : focusDayAfter();\n        break;\n\n      case 'ArrowDown':\n        e.preventDefault();\n        e.stopPropagation();\n        focusWeekAfterDay();\n        break;\n\n      case 'ArrowUp':\n        e.preventDefault();\n        e.stopPropagation();\n        focusWeekBeforeDay();\n        break;\n\n      case 'PageUp':\n        e.preventDefault();\n        e.stopPropagation();\n        e.shiftKey ? focusYearBefore() : focusMonthBefore();\n        break;\n\n      case 'PageDown':\n        e.preventDefault();\n        e.stopPropagation();\n        e.shiftKey ? focusYearAfter() : focusMonthAfter();\n        break;\n\n      case 'Home':\n        e.preventDefault();\n        e.stopPropagation();\n        focusStartOfWeek();\n        break;\n\n      case 'End':\n        e.preventDefault();\n        e.stopPropagation();\n        focusEndOfWeek();\n        break;\n    }\n  };\n\n  var isFocusTarget = Boolean(focusTarget && isSameDay(focusTarget, date));\n  return {\n    focus: focus,\n    blur: blur,\n    focusOnKeyDown: focusOnKeyDown,\n    isFocusTarget: isFocusTarget\n  };\n}","map":{"version":3,"sources":["../../../../src/components/Day/hooks/useDayFocus.ts"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { isSameDay } from 'date-fns';\nimport { useDayPicker } from '../../../contexts/DayPicker';\nimport { useFocus } from '../../../contexts/Focus';\n/** Handle the focus for the day element. */\nexport function useDayFocus(date, buttonRef) {\n    var _a = useFocus(), focusedDay = _a.focusedDay, focusTarget = _a.focusTarget, focusDayAfter = _a.focusDayAfter, focusDayBefore = _a.focusDayBefore, focusWeekAfterDay = _a.focusWeekAfterDay, focusWeekBeforeDay = _a.focusWeekBeforeDay, blur = _a.blur, focus = _a.focus, focusMonthBefore = _a.focusMonthBefore, focusMonthAfter = _a.focusMonthAfter, focusYearBefore = _a.focusYearBefore, focusYearAfter = _a.focusYearAfter, focusStartOfWeek = _a.focusStartOfWeek, focusEndOfWeek = _a.focusEndOfWeek;\n    var dir = useDayPicker().dir;\n    // Focus the HTML element if this is the focused day.\n    React.useEffect(function () {\n        var _a;\n        if (!focusedDay)\n            return;\n        if (isSameDay(focusedDay, date)) {\n            (_a = buttonRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n    }, [focusedDay, date, buttonRef]);\n    var focusOnKeyDown = function (e) {\n        switch (e.key) {\n            case 'ArrowLeft':\n                e.preventDefault();\n                e.stopPropagation();\n                dir === 'rtl' ? focusDayAfter() : focusDayBefore();\n                break;\n            case 'ArrowRight':\n                e.preventDefault();\n                e.stopPropagation();\n                dir === 'rtl' ? focusDayBefore() : focusDayAfter();\n                break;\n            case 'ArrowDown':\n                e.preventDefault();\n                e.stopPropagation();\n                focusWeekAfterDay();\n                break;\n            case 'ArrowUp':\n                e.preventDefault();\n                e.stopPropagation();\n                focusWeekBeforeDay();\n                break;\n            case 'PageUp':\n                e.preventDefault();\n                e.stopPropagation();\n                e.shiftKey ? focusYearBefore() : focusMonthBefore();\n                break;\n            case 'PageDown':\n                e.preventDefault();\n                e.stopPropagation();\n                e.shiftKey ? focusYearAfter() : focusMonthAfter();\n                break;\n            case 'Home':\n                e.preventDefault();\n                e.stopPropagation();\n                focusStartOfWeek();\n                break;\n            case 'End':\n                e.preventDefault();\n                e.stopPropagation();\n                focusEndOfWeek();\n                break;\n        }\n    };\n    var isFocusTarget = Boolean(focusTarget && isSameDay(focusTarget, date));\n    return { focus: focus, blur: blur, focusOnKeyDown: focusOnKeyDown, isFocusTarget: isFocusTarget };\n}\n"]},"metadata":{},"sourceType":"module"}